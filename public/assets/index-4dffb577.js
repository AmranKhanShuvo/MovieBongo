import{D as u,r as a,o as g,be as f,x,y as l,z as n,q as d,p as s,s as v,v as C}from"./index-06ab806b.js";import{g as N}from"./movies-04e7ef00.js";import{h as w}from"./moment-fbc5633a.js";const y=()=>{const{user:t}=u(e=>e.user),[r,h]=a.useState(),[o,m]=a.useState(""),c=g(),i=f(),p=a.useCallback(async()=>{try{c(x());const e=await N();c(l()),e.success?h(e.movies):n.error(e.message)}catch(e){c(l()),n.error(e.message)}},[]);return a.useEffect(()=>{p()},[]),d("div",{children:[s("input",{type:"text",value:o,className:"search-input",placeholder:"Search movies",onChange:e=>m(e.target.value)}),s(v,{gutter:20,className:"mt-2",children:r==null?void 0:r.filter(e=>e.title.toLowerCase().includes(o.toLowerCase())).map(e=>s(C,{span:6,children:d("div",{className:"card br-3cent flex flex-col gap-1 cursor-pointer",onClick:()=>{t!=null&&t.isAdmin?i("/admin"):i(`/movie/${e._id}?date=${w().format("YYYY-MM-DD")}`)},children:[s("img",{src:e.poster,alt:"poster",className:"card-img",height:200}),s("div",{className:"center p-1",children:s("h1",{className:"text-md",children:e.title.toUpperCase()})})]})},e._id))})]})};export{y as default};
